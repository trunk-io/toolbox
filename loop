#!/bin/bash

# Ensure the tester directory exists
mkdir -p tester

# Function to generate a random 30-character filename
generate_random_filename() {
	tr -dc A-Za-z0-9 </dev/urandom | head -c 30
}

# Function to generate 500 random characters
generate_random_content() {
	echo -n "# "
	tr -dc A-Za-z0-9 </dev/urandom | head -c 5
}

# Loop 100 times
for i in {1..100}; do
	echo "Running trunk check (Iteration ${i})"
	trunk check --filter=trunk-toolbox

	# Check if the command was successful
	if [[ $? -ne 0 ]]; then
		echo "Command failed on iteration ${i}"
	fi

	# random_content=$(generate_random_content)
	# echo "${random_content}" >>.trunk/config/toolbox.toml

done

echo "Completed 100 iterations successfully."
